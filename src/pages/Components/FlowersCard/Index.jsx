import './flowersCard.scss'
import {Link} from "react-router-dom";
import {useDispatch} from "react-redux";
import { addItemToCart} from "../../../redux/slices/cartSlice.js";

function BouquetsCard({product}) {
    const dispatch = useDispatch();

    const handleAddToCart = (event, id) => {
        event.preventDefault()

        dispatch(addItemToCart(product))
    }

    return (
        <Link key={product.id} to={`/product/${product.id}`} state={{product: product}} className="product-card">
            <div className="product-image-placeholder">
                <img src={`${import.meta.env.VITE_API_KEY}/products/images/${product.image.imageId}`}
                     alt={`Image for`}/>
                <p className="product-name-placeholder">{product.name}</p>
            </div>

            <div className={"content-wrapper"}>
                <div className={"text-wrapper"}>
                    <p className="product-discount-placeholder">
                        <span>$250</span>
                        <span className="discount-percentage">15%</span>
                    </p>
                    <span className="price">${product.price}</span>
                </div>
                <div className={"cart-icon"} onClick={(event) => handleAddToCart(event, product.id)}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="24" viewBox="0 0 26 24" fill="none">
                        <path
                            d="M9.59626 1.68932C9.74031 1.4393 9.77927 1.14223 9.70458 0.863443C9.62988 0.584659 9.44765 0.347007 9.19797 0.202765C8.94828 0.0585243 8.6516 0.0195104 8.37319 0.0943059C8.09479 0.169101 7.85745 0.35158 7.7134 0.601598L5.30914 4.77121H3.5856C2.95642 4.77133 2.34439 4.97658 1.84205 5.35591C1.3397 5.73525 0.974356 6.26805 0.801249 6.87375C0.628142 7.47946 0.656687 8.12513 0.882567 8.71315C1.10845 9.30117 1.51938 9.79956 2.05324 10.133C2.13735 10.1844 2.23423 10.211 2.33277 10.2098H23.667C23.7656 10.211 23.8624 10.1844 23.9466 10.133C24.4804 9.79956 24.8913 9.30117 25.1172 8.71315C25.3431 8.12513 25.3716 7.47946 25.1985 6.87375C25.0254 6.26805 24.6601 5.73525 24.1577 5.35591C23.6554 4.97658 23.0434 4.77133 22.4142 4.77121H20.6907L18.2864 0.601598C18.2151 0.477801 18.1201 0.369285 18.0069 0.282243C17.8937 0.195202 17.7645 0.131341 17.6266 0.0943059C17.4887 0.0572709 17.345 0.0477872 17.2034 0.0663968C17.0619 0.0850063 16.9255 0.131344 16.8018 0.202765C16.6782 0.274186 16.5698 0.369292 16.4829 0.482651C16.396 0.59601 16.3322 0.725403 16.2952 0.863443C16.2582 1.00148 16.2488 1.14546 16.2673 1.28717C16.2859 1.42887 16.3322 1.56553 16.4035 1.68932L18.1821 4.77121H7.81913L9.59626 1.68932Z"
                            fill="#ffffff"/>
                        <path fillRule="evenodd" clipRule="evenodd"
                              d="M23.6234 11.991C23.6308 11.9492 23.629 11.9064 23.6181 11.8654C23.6072 11.8244 23.5874 11.7864 23.5602 11.7539C23.533 11.7214 23.499 11.6952 23.4606 11.6773C23.4223 11.6594 23.3804 11.6501 23.3381 11.6501H2.66138C2.61904 11.6501 2.5772 11.6594 2.53883 11.6773C2.50045 11.6952 2.46647 11.7214 2.43926 11.7539C2.41206 11.7864 2.3923 11.8244 2.38138 11.8654C2.37046 11.9064 2.36864 11.9492 2.37605 11.991L3.82441 20.2548C3.97141 21.0929 4.3801 21.8627 4.99171 22.4535C5.60331 23.0443 6.3863 23.4256 7.22804 23.5426C11.0575 24.0763 14.942 24.0763 18.7714 23.5426C19.6132 23.4256 20.3961 23.0443 21.0077 22.4535C21.6194 21.8627 22.0281 21.0929 22.1751 20.2548L23.6234 11.991ZM11.1893 14.9133C11.1893 14.6248 11.0748 14.3482 10.8711 14.1442C10.6674 13.9402 10.3911 13.8256 10.103 13.8256C9.81493 13.8256 9.53863 13.9402 9.33492 14.1442C9.1312 14.3482 9.01676 14.6248 9.01676 14.9133V17.8139C9.01676 18.1024 9.1312 18.3791 9.33492 18.5831C9.53863 18.787 9.81493 18.9016 10.103 18.9016C10.3911 18.9016 10.6674 18.787 10.8711 18.5831C11.0748 18.3791 11.1893 18.1024 11.1893 17.8139V14.9133ZM15.8964 13.8256C16.1845 13.8256 16.4608 13.9402 16.6645 14.1442C16.8683 14.3482 16.9827 14.6248 16.9827 14.9133V17.8139C16.9827 18.1024 16.8683 18.3791 16.6645 18.5831C16.4608 18.787 16.1845 18.9016 15.8964 18.9016C15.6083 18.9016 15.332 18.787 15.1283 18.5831C14.9246 18.3791 14.8102 18.1024 14.8102 17.8139V14.9133C14.8102 14.6248 14.9246 14.3482 15.1283 14.1442C15.332 13.9402 15.6083 13.8256 15.8964 13.8256Z"
                              fill="#ffffff"/>
                    </svg>
                </div>
            </div>
        </Link>
    );
}

export default BouquetsCard;